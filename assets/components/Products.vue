<template>
  <div id="products">
      <ul>
        <li v-for="product in products" :key="product.id" class="product">
          <div class="name">{{product.name}}</div>
          <div class="price">price: {{product.price}}â‚¬</div>
          <div class="add-to-cart">
            <button type="button" class="btn btn-outline-primary" @click="productAddToCart(product.id)">add to cart</button>
          </div>
        </li>
      </ul>
  </div>
</template>

<script>
import axios from 'axios'
export default {
  data: function() {
    return {
      products: [
        { id: 1, name: 'test', price:2.25}
      ],
    }
  },
  methods: {
    command: function(command,params) {
      axios.post('/'+command,params)
          .then(function (response) {
            console.log(response);
          })
          .catch(function (error) {
            console.log(error);
          });
    },
    productAddToCart: function(productId) {
      this.command('addToCart',{
        productId: productId,
      })
    }
  },
  mounted: function() {
  },
  updated: function() {
  }
}
</script>